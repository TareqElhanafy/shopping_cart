<%- include('../../layouts/admin/header') %>
    <script src="https://cdn.ckeditor.com/4.16.0/standard/ckeditor.js"></script>
    <br><br><br>
    <div class="container">
        <h1 class="page-title">Add Prodct</h1>
        <br>
        <a href="/admin/products/" class="btn btn-primary">Back to All Products</a>
        <br><br> <br>
        <%- include('../../layouts/alerts/error') %>
            <div>
                <form action="/admin/products/store-product" method="POST" enctype="multipart/form-data">
                    <div class="form-group">
                        <label for="title">
                            Name
                        </label>
                        <input type="text" class="form-control" name="name" placeholder="name" value="">
                    </div>
                    <div class="form-group">
                        <label for="title">
                            Slug
                        </label>
                        <input type="text" class="form-control" name="slug" placeholder="slug" value="">
                    </div>
                    <div class="form-group">
                        <label for="title">
                            Price
                        </label>
                        <input type="number" class="form-control" name="price" placeholder="price" value="">
                    </div>
                    <div class="form-group">
                        <label for="title">
                           Choose Category
                        </label>
                        <select name="category_id" id="" class="form-control">
                            <% if (categories) {%>
                                <% categories.forEach(function(category){%>
                                    <option value="<%= category._id %>" class="form-control">
                                        <%= category.title %>
                                    </option>
                                    <% }) %>
                                        <%} %>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="title">
                            Image
                        </label>
                        <input type="file" class="form-control" name="image"  placeholder="image"
                            onchange="readURL(this);" value="">
                        <br> <br>
                        <img src="" id="product_image" alt="">
                    </div>
                    <button type="submit" class="btn btn-success">Submit</button>
                </form>
                <br> <br> <br>
            </div>
    </div>
    <script>
        // Replace the <textarea id="editor1"> with a CKEditor 4
        // instance, using default configuration.
        CKEDITOR.replace('editor1');
    </script>

    <script type="text/javascript">
        function readURL(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = function (e) {
                    $('#product_image')
                        .attr('src', e.target.result)
                        .width(80)
                        .height(80);
                };
                reader.readAsDataURL(input.files[0]);
            }
        }
    </script>
    <%- include('../../layouts/admin/footer') %>